{{
response.files.insert(6, URL('static', 'js/citation-0.3.3.min.js'))
#response.files.insert(6, URL('static', 'js/vue.js'))
response.files.insert(6, URL('static', 'css/citations-form.css'))
}}
{{extend 'layout.html'}}
<h2>
    {{=article.title}}
</h2>

<ul class="nav nav-tabs" id="articleTab" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" id="meta-tab" data-toggle="tab" href="#meta" role="tab" aria-controls="meta" aria-selected="true">Meta</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="authors-tab" data-toggle="tab" href="#authors" role="tab" aria-controls="authors" aria-selected="false">Authors</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="body-tab" data-toggle="tab" href="#body" role="tab" aria-controls="body" aria-selected="false">Body</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="citations-tab" data-toggle="tab" href="#citations" role="tab" aria-controls="citations" aria-selected="false">Citations</a>
  </li>
</ul>
<div class="tab-content" id="articleTabContent">
  <div class="tab-pane fade show active" id="meta" role="tabpanel" aria-labelledby="meta-tab">
      {{=form}}
  </div>
  <div class="tab-pane fade" id="authors" role="tabpanel" aria-labelledby="authors-tab">
      {{=LOAD('author', 'grid.load', vars={'article_id':article.id})}}
  </div>
  <div class="tab-pane fade" id="body" role="tabpanel" aria-labelledby="body-tab">
      {{=LOAD('article', 'body.load', vars={'article_id':article.id})}}
  </div>
  <div class="tab-pane fade" id="citations" role="tabpanel" aria-labelledby="citations-tab">
      {{=LOAD('citation', 'article_citations.load', vars={'article_id':article.id})}}
  </div>
</div>